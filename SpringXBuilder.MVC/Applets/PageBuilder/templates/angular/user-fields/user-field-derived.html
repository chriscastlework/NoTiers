<div class="form-group pb-user-field pb-rounded-corners-5 col-sm-12">
    <!-- BUTTONS -->
    <div>
        <!-- TRASH -->
        <div class="col-sm-6">
            <div ng-if="editMode" ng-of="editMode" class="pb-icon-button" ng-click="delete()">
                <span ng-click="delete" class="glyphicon glyphicon-trash"></span>
            </div>
        </div>
        <!-- EDIT BUTTON -->
        <div class="col-sm-6">
            <a ng-click="toggle()"
               class="pb-button pb-float-right">
                <span ng-if="editMode">Show less..</span>
                <span ng-if="!editMode">Show more..</span>
            </a>
        </div>
    </div>
    <!-- WARNING -->
    <div class="col-sm-12" ng-show="!item.isValid()">
        <span class="pb-warning">This field is not valid and will not be listed in mappable options. Please ensure all fields are set.</span>
    </div>
    <!-- NAME -->
    <div class="col-sm-12 no-padding">
       <span class="col-sm-2">Name</span>
       <span class="col-sm-10">
            <input class="form-control"
                   ng-model="item.name"
                   ng-model-options="{getterSetter:true}"/>
       </span>
    </div>
    <div>
        <!--{{item.name()}} {{item.id()}}
        ValueType:{{item.valueTypeString()}}  ObjectType:{{item.objectTypeString()}}-->
    </div>

    <!-- MAIN CONTENT -->
    <div id="content"
         ng-if="editMode">
        <!-- Source -->
        <div class="col-sm-12 pb-operation">
            <span class="col-sm-2">Take</span>
            <span class="col-sm-10">
                <select class="form-control col-sm-10"
                        ng-model="item.sourceFieldId"
                        ng-model-options="{getterSetter:true}"
                        ng-options="field.id as field.label for field in displayFields"/>
            </span>
        </div>
        <!-- Operations -->
        <div class="col-sm-12 no-padding">
            <user-field-derived-operation ng-repeat="operation in item.operations()" class="col-sm-12 pb-rounded-corners-5 pb-operation" operation="operation">

            </user-field-derived-operation>
            <div>
                <a ng-click="item.addOperation()">Add another operation</a>
            </div>
        </div>
    </div>
</div>